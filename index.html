<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>JavaScript MCQs — Set 2</title>
<style>
  :root{
    --bg:#f9fafb;
    --card:#ffffff;
    --ink:#1f2937;
    --muted:#6b7280;
    --brand:#7c3aed;
    --ok:#16a34a;
    --bad:#dc2626;
    --warn:#d97706;
    --border:#e5e7eb;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial,sans-serif;
    color:var(--ink);
    background:var(--bg);
  }
  header{
    position:sticky;top:0;z-index:5;
    background:linear-gradient(180deg,#fff,rgba(255,255,255,.98));
    border-bottom:1px solid var(--border);
    padding:12px 16px;
  }
  header h1{margin:.2rem 0;font-size:1.25rem}
  header .meta{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  header input[type="text"]{
    padding:.5rem .65rem;border:1px solid var(--border);border-radius:8px;
    min-width:220px;
  }
  main{max-width:980px;margin:18px auto;padding:0 16px 100px}
  .qcard{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:14px;
    padding:16px;
    margin:14px 0;
    box-shadow:0 1px 0 rgba(17,24,39,.04);
  }
  .qhead{display:flex;align-items:baseline;gap:8px;margin-bottom:8px}
  .qnum{font-weight:700;color:var(--brand)}
  .points{margin-left:auto;color:var(--muted);font-size:.9rem}
  .qtext{margin:.25rem 0 .5rem}
  .opts{display:grid;gap:6px;margin-top:8px}
  .opt{
    display:flex;gap:8px;align-items:flex-start;
    border:1px dashed transparent;
    padding:6px 8px;border-radius:10px;
  }
  .opt input{margin-top:2px}
  .opt label{cursor:pointer;display:block}
  .badge{display:inline-block;font-size:.75rem;border-radius:999px;padding:.15rem .5rem;border:1px solid var(--border);color:var(--muted)}
  .correct{background:#ecfdf5;border-color:#a7f3d0}
  .wrong{background:#fef2f2;border-color:#fecaca}
  .missed{background:#fff7ed;border-color:#fde68a}
  .explain{color:var(--muted);font-size:.9rem;margin-top:6px}
  .toolbar{
    position:fixed;left:0;right:0;bottom:0;z-index:10;
    background:#fff;border-top:1px solid var(--border);
    padding:12px 16px;
  }
  .toolbar .actions{max-width:980px;margin:0 auto;display:flex;gap:10px;align-items:center;justify-content:space-between}
  button{
    background:var(--brand);color:#fff;border:none;border-radius:10px;padding:.6rem 1rem;font-weight:700;cursor:pointer;
  }
  button.secondary{background:#1118270d;color:#111827;border:1px solid var(--border)}
  button:disabled{opacity:.6;cursor:not-allowed}
  .scorebox{display:flex;gap:12px;align-items:center;font-weight:700}
  .scorebox .score{color:var(--brand)}
  .legend{display:flex;gap:8px;align-items:center;color:var(--muted);font-size:.9rem}
  .legend .dot{width:10px;height:10px;border-radius:50%}
  .dot.ok{background:var(--ok)} .dot.bad{background:var(--bad)} .dot.warn{background:var(--warn)}
  details{margin:6px 0;color:var(--muted)}
  .section{margin-top:24px;margin-bottom:8px;color:#6b7280;text-transform:uppercase;letter-spacing:.08em;font-weight:800;font-size:.8rem}
</style>
</head>
<body>
<header>
  <h1>JavaScript MCQs — Set 2 (Core, DOM, Events, ES6, DHTML)</h1>
  <div class="meta">
    <label>Candidate: <input type="text" id="candidate" placeholder="Your name (optional)"></label>
    <span class="legend">
      <span class="dot ok"></span> correct
      <span class="dot bad"></span> wrong
      <span class="dot warn"></span> unanswered
    </span>
  </div>
</header>

<main id="exam"></main>

<div class="toolbar">
  <div class="actions">
    <div class="scorebox">
      <span>Score:</span>
      <span class="score" id="score">0 / 0 (0%)</span>
    </div>
    <div style="display:flex;gap:10px">
      <button id="submitBtn">Submit</button>
      <button class="secondary" id="resetBtn">Reset</button>
      <button class="secondary" id="downloadBtn" title="Download this file">Download HTML</button>
    </div>
  </div>
</div>

<script>
// --- Question data (Set 2) ---
// 50 MCQs exactly as provided; each 1 point.
const QUESTIONS = [
  // Core JS (1–10)
  {id:1, section:'Core JS', text:'JavaScript is a ___ language regarding identifiers (variables, functions, keywords).', opts:['whitespace-insensitive','case-insensitive','case-sensitive','space-sensitive'], ans:'C', pts:1},
  {id:2, section:'Core JS', text:'A valid first character for a JavaScript identifier is:', opts:['#','a digit (0–9)','a letter, `_`, or `$`','@'], ans:'C', pts:1},
  {id:3, section:'Core JS', text:'Which of these is NOT a JavaScript primitive type?', opts:['string','number','object','boolean'], ans:'C', pts:1},
  {id:4, section:'Core JS', text:'The `src` attribute of a `<script>` tag is used to:', opts:['specify the script’s MIME type','defer the script execution only','link to an external JavaScript file','inline minified code'], ans:'C', pts:1},
  {id:5, section:'Core JS', text:'Where can a `<script>` element legally appear in HTML?', opts:['only in `<head>`','only in `<body>`','either `<head>` or `<body>`','only before `</html>`'], ans:'C', pts:1},
  {id:6, section:'Core JS', text:'In ES5, variables declared with `var` are:', opts:['block-scoped','function-scoped','module-scoped','class-scoped'], ans:'B', pts:1},
  {id:7, section:'Core JS', text:'The `return` statement in a function:', opts:['must return a number','stops function execution and returns a value (or `undefined`)','always returns `undefined`','cannot be used inside loops'], ans:'B', pts:1},
  {id:8, section:'Core JS', text:'A function declaration differs from a function expression because:', opts:['declarations can be named; expressions cannot','expressions can be anonymous; declarations are hoisted','both are hoisted identically','expressions must use `=>`'], ans:'B', pts:1},
  {id:9, section:'Core JS', text:'The `continue` statement:', opts:['exits the loop entirely','skips the current iteration and continues with the next','restarts the loop from the beginning with same index','jumps to a labeled block outside the loop'], ans:'B', pts:1},
  {id:10, section:'Core JS', text:'Assigning to an undeclared variable inside a function (non-strict mode) will:', opts:['throw a `ReferenceError`','create a local variable','create a global variable','be ignored by the engine'], ans:'B', pts:1},

  // DOM (11–20)
  {id:11, section:'DOM', text:'The DOM is:', opts:['a templating engine','a standard programming interface for HTML and XML documents','a CSS preprocessor','a JSON parser'], ans:'B', pts:1},
  {id:12, section:'DOM', text:'Which is a Window method?', opts:['appendChild','charAt','setTimeout','createElement'], ans:'C', pts:1},
  {id:13, section:'DOM', text:'`nodeType` value for an element node is:', opts:['3','1','8','9'], ans:'B', pts:1},
  {id:14, section:'DOM', text:'`nodeType` value for a text node is:', opts:['3','1','9','11'], ans:'A', pts:1},
  {id:15, section:'DOM', text:'`nodeType` value for the document node is:', opts:['1','3','8','9'], ans:'D', pts:1},
  {id:16, section:'DOM', text:'Which property returns a live list of all child nodes of a node?', opts:['children','childNodes','firstElementChild','nodeList'], ans:'B', pts:1},
  {id:17, section:'DOM', text:'The property that gives a node’s parent is:', opts:['ownerDocument','parentNode','rootNode','ancestor'], ans:'B', pts:1},
  {id:18, section:'DOM', text:'The property that returns the first child node is:', opts:['firstChild','firstElement','head','startNode'], ans:'A', pts:1},
  {id:19, section:'DOM', text:'To get one element by its id, use:', opts:['document.getElementsByClassName()','document.getElementsByTagName()','document.getElementById()','document.querySelectorAll()'], ans:'C', pts:1},
  {id:20, section:'DOM', text:'To get all elements by tag name, use:', opts:['document.getElementsByTagName()','document.getElementsByName()','document.querySelector()','document.getElement()'], ans:'A', pts:1},

  // Events (21–30)
  {id:21, section:'Events', text:'Which keyboard event fires when a key is released?', opts:['keydown','keypress','keyup','keyrelease'], ans:'C', pts:1},
  {id:22, section:'Events', text:'In addEventListener(type, listener, useCapture), setting the third argument to true means:', opts:['listen during the bubbling phase','listen during the capturing phase','listen only once','the listener is passive'], ans:'B', pts:1},
  {id:23, section:'Events', text:'To cancel the default browser action (e.g., following a link), call:', opts:['stopPropagation()','stopImmediatePropagation()','preventDefault()','cancelEvent()'], ans:'C', pts:1},
  {id:24, section:'Events', text:'To prevent an event from moving to other listeners up or down the tree, call:', opts:['preventDefault()','stopPropagation()','stopImmediatePropagation() only','return false on the handler'], ans:'B', pts:1},
  {id:25, section:'Events', text:'Event flow order is:', opts:['target → bubbling → capturing','capturing → bubbling → target','capturing → target → bubbling','bubbling → capturing → target'], ans:'C', pts:1},
  {id:26, section:'Events', text:'The event object property for the original node that triggered the event:', opts:['currentTarget','target','source','origin'], ans:'B', pts:1},
  {id:27, section:'Events', text:'Compared to inline handlers, addEventListener can:', opts:['attach multiple handlers of the same type to one element','attach only one handler per event','only work on document, not elements','overwrite prior handlers automatically'], ans:'A', pts:1},
  {id:28, section:'Events', text:'Which is a mouse event?', opts:['input','mouseover','submit','change'], ans:'B', pts:1},
  {id:29, section:'Events', text:'Which can fire before images and external content finish loading?', opts:['window.onload','document.onload (DOM ready)','beforeunload','unload'], ans:'B', pts:1},
  {id:30, section:'Events', text:'Which method removes a previously attached listener?', opts:['off()','removeEvent()','removeEventListener()','detachListener()'], ans:'C', pts:1},

  // ES6 (31–44)
  {id:31, section:'ES6', text:'let variables are:', opts:['function-scoped','block-scoped','global-scoped','prototype-scoped'], ans:'B', pts:1},
  {id:32, section:'ES6', text:'About const:', opts:['cannot be declared in block scope','the binding cannot be reassigned','it is hoisted and initialized to undefined','it is the same as var'], ans:'B', pts:1},
  {id:33, section:'ES6', text:'Accessing a let variable before its declaration will:', opts:['return undefined','throw a ReferenceError (TDZ)','return null','auto-initialize it with 0'], ans:'B', pts:1},
  {id:34, section:'ES6', text:'Template literals:', opts:['must use single quotes','use backticks and support ${expr} interpolation','cannot span multiple lines','require semicolons inside ${}'], ans:'B', pts:1},
  {id:35, section:'ES6', text:'Default parameters in functions:', opts:['apply when the argument is undefined','apply when the argument is null','apply only when no arguments are passed at all','require var declarations'], ans:'A', pts:1},
  {id:36, section:'ES6', text:'Rest parameters (...args) in a function signature:', opts:['collect remaining arguments into an array','spread an array into arguments','must come before named params','only work with arrow functions'], ans:'A', pts:1},
  {id:37, section:'ES6', text:'The spread operator (...) is used to:', opts:['collect values','expand iterables into places like arrays or function arguments','declare constants','define default params'], ans:'B', pts:1},
  {id:38, section:'ES6', text:'Arrow functions:', opts:['have their own this','do not have their own this (lexical this)','cannot have parameters','must always be multi-line'], ans:'B', pts:1},
  {id:39, section:'ES6', text:'Object destructuring syntax to get name from person:', opts:['const {name} = person;','const name = person{name};','const name(person) = {};','const person = {name};'], ans:'A', pts:1},
  {id:40, section:'ES6', text:'Array destructuring with default values: const [a, b=2] = [1]; results in:', opts:['a=1, b=undefined','a=1, b=2','a=undefined, b=2','a=2, b=1'], ans:'B', pts:1},
  {id:41, section:'ES6', text:'Valid ES6 class method definition:', opts:['class A { function m(){} }','class A { m:function(){} }','class A { m(){} }','class A extends() {}'], ans:'C', pts:1},
  {id:42, section:'ES6', text:'Regarding classes and hoisting:', opts:['classes are hoisted like function declarations','classes are not hoisted; use after declaration','only static methods are hoisted','only constructors are hoisted'], ans:'B', pts:1},
  {id:43, section:'ES6', text:'In a subclass constructor, before using this you must call:', opts:['parent()','super()','base()','nothing is required'], ans:'B', pts:1},
  {id:44, section:'ES6', text:'Static methods:', opts:['are called on instances','are called on the class itself','are hoisted as globals','must be getters/setters'], ans:'B', pts:1},

  // DHTML (45–49)
  {id:45, section:'DHTML', text:'DHTML primarily refers to:', opts:['a new HTML version','combining HTML + CSS + JavaScript to create dynamic pages','a DOM replacement','a browser plugin technology'], ans:'B', pts:1},
  {id:46, section:'DHTML', text:'Core components of DHTML are:', opts:['HTML + JSON + SVG','HTML + CSS + JavaScript','XML + XSLT + XPath','HTTP + HTML + TLS'], ans:'B', pts:1},
  {id:47, section:'DHTML', text:'To change styles dynamically via JS you typically use:', opts:['element.css()','element.style.<property>','setStyle(element, ...)','document.styleSheet()'], ans:'B', pts:1},
  {id:48, section:'DHTML', text:'To replace an element’s markup content on the fly, you can set:', opts:['outerText','innerHTML','tagHTML','nodeHTML'], ans:'B', pts:1},
  {id:49, section:'DHTML', text:'Which line correctly sets a paragraph’s text color to red?', opts:["p.color = 'red'","p.style('color','red')","p.style.color = 'red'","p.css.color('red')"], ans:'C', pts:1},

  // DOM selection refresher (50)
  {id:50, section:'DOM selection', text:'Which method returns all elements with a given class name?', opts:['getElementsByTagName()','getElementsByClassName()','getElementsByName()','querySelector()'], ans:'B', pts:1},
];

// Utility to render
const examRoot = document.getElementById('exam');

function renderExam(){
  let currentSection = null;
  QUESTIONS.forEach(q => {
    if(q.section !== currentSection){
      currentSection = q.section;
      const sec = document.createElement('div');
      sec.className = 'section';
      sec.textContent = currentSection;
      examRoot.appendChild(sec);
    }
    const card = document.createElement('section');
    card.className = 'qcard';
    card.id = 'q' + q.id;

    const head = document.createElement('div');
    head.className = 'qhead';
    head.innerHTML = `<span class="qnum">Q${q.id}</span> <span class="badge">${q.section}</span> <span class="points">${q.pts} point${q.pts>1?'s':''}</span>`;
    card.appendChild(head);

    const p = document.createElement('div');
    p.className = 'qtext';
    p.innerHTML = q.text;
    card.appendChild(p);

    const opts = document.createElement('div');
    opts.className = 'opts';
    const letters = ['A','B','C','D'];
    q.opts.forEach((opt,i)=>{
      const id = `q${q.id}_${letters[i]}`;
      const row = document.createElement('div');
      row.className = 'opt';
      row.innerHTML = `
        <input type="radio" name="q${q.id}" id="${id}" value="${letters[i]}">
        <label for="${id}"><strong>${letters[i]})</strong> ${opt}</label>
      `;
      opts.appendChild(row);
    });
    card.appendChild(opts);

    const exp = document.createElement('div');
    exp.className = 'explain';
    exp.id = `exp_${q.id}`;
    exp.style.display = 'none';
    exp.textContent = `Correct answer: ${q.ans}`;
    card.appendChild(exp);

    examRoot.appendChild(card);
  });
}

renderExam();

function grade(){
  let total = 0, gained = 0, correct = 0, wrong = 0, missed=0;
  QUESTIONS.forEach(q => total += q.pts);
  QUESTIONS.forEach(q => {
    const sel = document.querySelector(`input[name="q${q.id}"]:checked`);
    const card = document.getElementById('q'+q.id);
    const exp = document.getElementById('exp_'+q.id);
    exp.style.display = 'block';
    Array.from(card.querySelectorAll('.opt')).forEach(node => node.classList.remove('correct','wrong','missed'));

    if(!sel){
      missed++;
      card.classList.remove('correct','wrong');
      // mark the correct option
      const good = card.querySelector(`input[value="${q.ans}"]`).parentElement;
      good.classList.add('correct');
      // shade card as missed
      const missedRow = document.createElement('div');
      good.classList.add('missed');
    }else if(sel.value === q.ans){
      correct++; gained += q.pts;
      sel.parentElement.classList.add('correct');
    }else{
      wrong++;
      sel.parentElement.classList.add('wrong');
      // mark correct one as well
      const good = card.querySelector(`input[value="${q.ans}"]`).parentElement;
      good.classList.add('correct');
    }
    // disable all radios
    card.querySelectorAll('input[type="radio"]').forEach(r => r.disabled = true);
  });
  const percent = Math.round((gained/total)*100);
  document.getElementById('score').textContent = `${gained} / ${total} (${percent}%)`;
  document.getElementById('submitBtn').disabled = true;
  window.scrollTo({top:0, behavior:'smooth'});
}

function resetAll(){
  QUESTIONS.forEach(q => {
    const card = document.getElementById('q'+q.id);
    card.querySelectorAll('input[type="radio"]').forEach(r => { r.checked = false; r.disabled = false; });
    card.querySelectorAll('.opt').forEach(n => n.classList.remove('correct','wrong','missed'));
    document.getElementById('exp_'+q.id).style.display = 'none';
  });
  document.getElementById('score').textContent = `0 / ${QUESTIONS.reduce((a,q)=>a+q.pts,0)} (0%)`;
  document.getElementById('submitBtn').disabled = false;
  window.scrollTo({top:0, behavior:'smooth'});
}

document.getElementById('submitBtn').addEventListener('click', grade);
document.getElementById('resetBtn').addEventListener('click', resetAll);

// Download this same HTML (self-contained)
document.getElementById('downloadBtn').addEventListener('click', () => {
  const blob = new Blob([document.documentElement.outerHTML], {type: 'text/html'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  const name = (document.getElementById('candidate').value || 'exam').replace(/\s+/g,'_');
  a.href = url;
  a.download = `js-mcqs-set2-${name}.html`;
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
});

// Precompute total in header
document.getElementById('score').textContent = `0 / ${QUESTIONS.reduce((a,q)=>a+q.pts,0)} (0%)`;
</script>
</body>
</html>